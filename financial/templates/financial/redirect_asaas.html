{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8 text-center">

            <div class="card border-0 shadow-lg rounded-4 p-5">

                <div class="mb-4">
                    <div class="spinner-border text-primary" style="width: 4rem; height: 4rem;" role="status">
                        <span class="visually-hidden">Carregando...</span>
                    </div>
                </div>

                <h2 class="fw-bold mb-3 text-secondary">Quase lá...</h2>

                <p class="lead text-muted mb-4">
                    Estamos redirecionando você para o <strong>ambiente seguro do Asaas</strong> para concluir seu pagamento.
                </p>

                <div class="alert alert-light border border-dashed d-inline-block text-start mb-4">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-shield-lock-fill text-success fs-3 me-3"></i>
                        <div>
                            <small class="text-uppercase fw-bold text-muted" style="font-size: 0.7rem;">Gateway de Pagamento</small>
                            <div class="fw-bold text-dark">Conexão Criptografada</div>
                        </div>
                    </div>
                </div>

                <div class="d-grid gap-2">
                    <a href="{{ payment_link }}" class="btn btn-primary btn-lg rounded-pill fw-bold shadow-sm">
                        Ir para o Pagamento Agora
                    </a>
                    <small class="text-muted mt-2">
                        Se não for redirecionado em 5 segundos, clique no botão acima.
                    </small>
                </div>

            </div>

        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script>
    // Timer de 3.5 segundos (3500 ms)
    setTimeout(function() {
        // As aspas "" ao redor de {{ payment_link }} são OBRIGATÓRIAS
        window.location.href = "{{ payment_link }}";
    }, 3500);
</script>
{% endblock %}
