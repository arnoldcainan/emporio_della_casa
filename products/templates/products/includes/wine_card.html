<div class="col-lg-3 col-md-4 col-6 mb-4">
    <div class="card h-100 border-0 glass-card">
        <div class="p-3 text-center position-relative">
            {% if product.is_promotion %}
                <span class="badge bg-danger position-absolute top-0 start-0 m-2 shadow-sm">Oferta</span>
            {% endif %}

            <a href="{% url 'products:product_detail' product.slug %}" class="d-block">
                <div class="img-container" style="height: 200px; display: flex; align-items: center; justify-content: center;">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" class="img-fluid wine-bottle" style="max-height: 180px;" alt="{{ product.name }}">
                    {% else %}
                        <span class="text-muted small">Sem imagem</span>
                    {% endif %}
                </div>
            </a>
        </div>

        <div class="card-body text-center p-3 d-flex flex-column">
            <small class="text-uppercase ls-2 text-muted fw-bold" style="font-size: 0.7rem;">{{ product.grape }}</small>

            <a href="{% url 'products:product_detail' product.slug %}" class="text-decoration-none">
                <h6 class="fw-bold mb-1 text-truncate hvr-burgundy" title="{{ product.name }}" style="color: var(--burgundy);">
                    {{ product.name }}
                </h6>
            </a>

            <p class="small text-muted mb-2" style="font-size: 0.75rem;">{{ product.winery }}</p>

            <div class="mb-3">
                <span class="text-burgundy fw-bold fs-5">R$ {{ product.price }}</span>
            </div>

            <a href="{% url 'products:cart_add' product.id %}"
               class="btn btn-burgundy btn-add-cart w-100 shadow-sm mt-auto py-2 rounded-pill">
               <i class="bi bi-cart-plus me-1"></i> Adicionar
            </a>
        </div>
    </div>
</div>